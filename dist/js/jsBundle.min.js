!function(){"use strict";function t(t,e){t.state("login",{url:"/",templateUrl:"views/Login.html"}).state("home",{url:"/home",templateUrl:"views/Home.html"}).state("CreateAccount",{url:"/createaccount",templateUrl:"views/CreateAccount.html"}).state("addNewPost",{url:"/post",templateUrl:"views/AddNewPost.html"}).state("profile",{url:"/profile",templateUrl:"views/Profile.html"}),e.otherwise("/")}angular.module("app",["ui.router","ui.bootstrap"]).config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t,e,o){var s=this;s.addPost=function(){s.post.username=e.status.username,t.addPost(s.post).then(function(){s.post={},o.go("home")})}}angular.module("app").controller("AddNewPostController",t),t.$inject=["HomeFactory","UserFactory","$state"]}(),function(){"use strict";function t(t,e,o){var s=this;s.logOut=e.logOut,s.posts=t.posts,s["delete"]=function(e){t.deletePost(e).then(function(){o.go("home"),t.getPost()})}}angular.module("app").controller("HomeController",t),t.$inject=["HomeFactory","UserFactory","$state"]}(),function(){"use strict";function t(t,e){var o=this;o.status=e.status}angular.module("app").controller("IndexController",t),t.$inject=["HomeFactory","UserFactory"]}(),function(){"use strict";function t(t,e,o){function s(){t.login(r.user).then(function(){o.go("home")})}function n(){var s=r.user;return s.username&&s.firstName&&s.lastName&&s.password&&s.cpassword&&s.password===s.cpassword?void t.register(s).then(function(){r.user={},o.go("home")}):(e.alert("Please complete all fields"),!1)}var r=this;r.user={},r.status=t.status,r.login=s,r.register=n,r.logOut=t.logOut}angular.module("app").controller("LoginController",t),t.$inject=["UserFactory","$window","$state"]}(),angular.module("app").controller("TestCtrl",["$scope","$modal",function(t,e){t.open=function(o){e.open({animation:t.animationsEnabled,templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",resolve:{post:function(){return o}}})}}]),angular.module("app").controller("ModalInstanceCtrl",["$scope","$modalInstance","post",function(t,e,o){t.post=o,t.ok=function(){e.close()},t.cancel=function(){e.dismiss("cancel")}}]),function(){"use strict";function t(t,e,o){function s(t){var s=o.defer();return e.post("/v1/api/Post",t).success(function(e){t._id=e.id,t.dateCreated=new Date,u.posts.push(t),s.resolve()}).error(function(t){s.reject(t)}),s.promise}function n(t){var s=o.defer();return e.post("/v1/api/deletePost/"+t._id).success(function(e){u.posts.splice(u.posts.indexOf(t),1),s.resolve()}),s.promise}function r(t){var s=o.defer();return e.get("/v1/api/Post/"+t).success(function(t){s.resolve(t)}),s.promise}function a(){e.get("/v1/api/Post").success(function(t){for(var e=0;e<t.length;e+=1)t[e].dateCreated=new Date(t[e].dateCreated),u.posts.push(t[e])})}var u={};return u.posts=[],u.addPost=s,u.deletePost=n,u.getPost=r,a(),u}angular.module("app").factory("HomeFactory",t),t.$inject=["UserFactory","$http","$q"]}(),function(){"use strict";function t(t,e){function o(o){var s=e.defer();return t.post("/v1/api/Users/Register",o).success(function(t){r(t.token),p.status.isLoggedIn=!0,s.resolve()}),s.promise}function s(o){var s={username:o.username.toLowerCase(),password:o.password},n=e.defer();return t.post("/v1/api/Users/Login",s).success(function(t){r(t.token),p.status.isLoggedIn=!0,n.resolve()}),n.promise}function n(){p.status.isLoggedIn=!1,u(),p.status.firstName="Sign In"}function r(t){localStorage.setItem("token",t),p.status.firstName=i(),p.status.lastName=l(),p.status.username=c()}function a(){return localStorage.token}function u(){localStorage.removeItem("token"),p.status.username=null}function i(){return JSON.parse(atob(a().split(".")[1])).firstName}function l(){return JSON.parse(atob(a().split(".")[1])).lastName}function c(){return JSON.parse(atob(a().split(".")[1])).username}var p={};return p.status={},a()?(p.status.isLoggedIn=!0,p.status.firstName=i(),p.status.lastName=l(),p.status.username=c()):p.status.firstName="Sign In",p.setToken=r,p.getToken=a,p.removeToken=u,p.register=o,p.login=s,p.logOut=n,p}angular.module("app").factory("UserFactory",t),t.$inject=["$http","$q"]}(),angular.module("app").filter("searchFilter",function(){return function(t,e){if(!e)return t;var o=[];return angular.forEach(t,function(t){return t.hasOwnProperty("title")&&-1!==t.title.toLowerCase().indexOf(e.toLowerCase())?void o.push(t):t.hasOwnProperty("hashtag")&&-1!==t.hashtag.join().toLowerCase().indexOf(e.toLowerCase())?void o.push(t):void(-1!==t.username.toLowerCase().indexOf(e.toLowerCase())&&o.push(t))}),o}});